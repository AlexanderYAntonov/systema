<mat-accordion multi>
  <mat-expansion-panel>
    <mat-expansion-panel-header>
      <mat-panel-title>
        Block form
      </mat-panel-title>
    </mat-expansion-panel-header>
    <form [formGroup]="formBlock" (ngSubmit)="calcBlockFormPrediction()" class="predict__form-block">
      <div class="block">
        <label>Names</label>
        <textarea formControlName="names"></textarea>
      </div>
      <div class="block">
        <label>All matches</label>
        <textarea formControlName="allMatches"></textarea>
      </div>
      <div class="block">
        <label>All home matches</label>
        <textarea formControlName="allHomeMatches"></textarea>
      </div>
      <div class="block">
        <label>All away matches</label>
        <textarea formControlName="allAwayMatches"></textarea>
      </div>
      <div class="actions">
        <button mat-stroked-button color="primary" type="reset" (click)="resetForm(formBlock)">Reset</button>
        <button mat-raised-button color="primary" type="submit">Predict</button>
      </div>
      <span *ngIf="prediction$ | async as prediction">{{ prediction | json }}</span>
    </form>

    <div class="prediction" *ngIf="formBlock.valid">
      <table>
        <tr *ngFor="let pred$ of predictions$; let i = index">
          <ng-container *ngIf="pred$ | async as prediction">
            <td [class.bold]="prediction.part === 1 || prediction.partPair === 1">
              {{ blockVektorList[i].home}}-{{blockVektorList[i].visitor}}</td>
            <td>{{blockVektorList[i].homeTotal}}</td>
            <td>{{blockVektorList[i].homeIn}}</td>
            <td>{{blockVektorList[i].visitorTotal}}</td>
            <td>{{blockVektorList[i].visitorOut}}</td>
            <td>{{prediction.result}}</td>
            <td>{{prediction.resultPair}}</td>
            <td>{{prediction.part}}</td>
            <td>{{prediction.partPair}}</td>
          </ng-container>
        </tr>
      </table>
    </div>
  </mat-expansion-panel>

  <mat-expansion-panel>
    <mat-expansion-panel-header>
      <mat-panel-title>
        One line form
      </mat-panel-title>
    </mat-expansion-panel-header>
    <form *ngIf="showForm.ultraShortForm" [formGroup]="formUltraShort" (ngSubmit)="calcUltraShortFormPrediction()"
      class="predict__form-ultra">
      <label>Matches</label>
      <input formControlName="matches">
      <button mat-stroked-button color="primary" type="reset" (click)="resetForm(formUltraShort)">Reset</button>
      <button mat-raised-button color="primary" type="submit">Predict</button>
      <span *ngIf="prediction$ | async as prediction">{{ prediction | json }}</span>
    </form>  
  </mat-expansion-panel>

  <mat-expansion-panel>
    <mat-expansion-panel-header>
      <mat-panel-title>
        Multi line form
      </mat-panel-title>
    </mat-expansion-panel-header>
    
    <form *ngIf="showForm.multiLineForm" [formGroup]="formMultiLine" (ngSubmit)="calcMultiLineFormPrediction()"
      class="predict__form-ultra">
      <label>Matches</label>
      <textarea formControlName="matches"></textarea>
      <button mat-stroked-button color="primary" type="reset" (click)="resetForm(formMultiLine)">Reset</button>
      <button mat-raised-button color="primary" type="submit">Predict</button>
      <table>
        <tr *ngFor="let pred$ of predictionsML$">
          <span *ngIf="pred$ | async as pred" [class.bold]="pred.partPair >= 0.9">{{ pred | json }}</span>
        </tr>
      </table>
    </form>
  </mat-expansion-panel>

  <mat-expansion-panel>
    <mat-expansion-panel-header>
      <mat-panel-title>
        Short form
      </mat-panel-title>
    </mat-expansion-panel-header>

    <form *ngIf="showForm.shortForm" [formGroup]="formShort" (ngSubmit)="calcPrediction()" class="predict__form">
      <mat-form-field class="form-field">
        <input matInput formControlName="homeTotal" placeholder="Home total">
      </mat-form-field>
    
      <mat-form-field class="form-field">
        <input matInput formControlName="homeIn" placeholder="Home in">
      </mat-form-field>
    
      <mat-form-field class="form-field">
        <input matInput formControlName="visitorTotal" placeholder="Visitor total">
      </mat-form-field>
    
      <mat-form-field class="form-field">
        <input matInput formControlName="visitorOut" placeholder="Visitor out">
      </mat-form-field>
    
      <button mat-stroked-button color="primary" type="reset" (click)="resetForm(formShort)">Reset</button>
      <button mat-raised-button color="primary" type="submit">Predict</button>
      <span *ngIf="prediction$ | async as prediction">{{ prediction | json }}</span>
    </form>
  </mat-expansion-panel>
  
</mat-accordion>

<!-- <form [formGroup]="formBlock" (ngSubmit)="calcBlockFormPrediction()" class="predict__form-block">
  <div class="block">
    <label>Names</label>
    <textarea formControlName="names"></textarea>
  </div>
  <div class="block">
    <label>All matches</label>
    <textarea formControlName="allMatches"></textarea>
  </div>
  <div class="block">
    <label>All home matches</label>
    <textarea formControlName="allHomeMatches"></textarea>
  </div>
  <div class="block">
    <label>All away matches</label>
    <textarea formControlName="allAwayMatches"></textarea>
  </div>
  <div class="actions">
    <button mat-stroked-button color="primary" type="reset" (click)="resetForm(formBlock)">Reset</button>
    <button mat-raised-button color="primary" type="submit">Predict</button>
  </div>
  <span *ngIf="prediction$ | async as prediction">{{ prediction | json }}</span>
</form> -->

<!-- <div class="prediction" *ngIf="formBlock.valid">
  <table>
    <tr *ngFor="let pred$ of predictions$; let i = index">
      <ng-container *ngIf="pred$ | async as prediction">
        <td [class.bold]="prediction.part === 1 || prediction.partPair === 1">{{ blockVektorList[i].home}}-{{blockVektorList[i].visitor}}</td>
        <td>{{blockVektorList[i].homeTotal}}</td>
        <td>{{blockVektorList[i].homeIn}}</td>
        <td>{{blockVektorList[i].visitorTotal}}</td>
        <td>{{blockVektorList[i].visitorOut}}</td>
        <td>{{prediction.result}}</td>
        <td>{{prediction.resultPair}}</td>
        <td>{{prediction.part}}</td>
        <td>{{prediction.partPair}}</td>
      </ng-container>
    </tr>
  </table>
</div> -->

<!-- <h4 (click)="toggleForm('ultraShortForm')">One line form</h4>
<form *ngIf="showForm.ultraShortForm" [formGroup]="formUltraShort" (ngSubmit)="calcUltraShortFormPrediction()" class="predict__form-ultra">
  <label>Matches</label>
  <input formControlName="matches">
  <button mat-stroked-button color="primary" type="reset" (click)="resetForm(formUltraShort)">Reset</button>
  <button mat-raised-button color="primary" type="submit">Predict</button>
  <span *ngIf="prediction$ | async as prediction">{{ prediction | json }}</span>
</form> -->

<!-- <h4 (click)="toggleForm('multiLineForm')">Multi line form</h4>
<form *ngIf="showForm.multiLineForm" [formGroup]="formMultiLine" (ngSubmit)="calcMultiLineFormPrediction()"
  class="predict__form-ultra">
  <label>Matches</label>
  <textarea formControlName="matches"></textarea>
  <button mat-stroked-button color="primary" type="reset" (click)="resetForm(formMultiLine)">Reset</button>
  <button mat-raised-button color="primary" type="submit">Predict</button>
  <table>
  <tr *ngFor="let pred$ of predictionsML$">
    <span *ngIf="pred$ | async as pred" [class.bold]="pred.partPair >= 0.9">{{ pred | json }}</span>
  </tr>
  </table>
</form> -->

<!-- <h4 (click)="toggleForm('shortForm')">Short form</h4>
<form *ngIf="showForm.shortForm" [formGroup]="formShort" (ngSubmit)="calcPrediction()" class="predict__form">
  <mat-form-field class="form-field">
    <input matInput formControlName="homeTotal" placeholder="Home total">
  </mat-form-field>
  
  <mat-form-field class="form-field">
    <input matInput formControlName="homeIn" placeholder="Home in">
  </mat-form-field>
  
  <mat-form-field class="form-field">
    <input matInput formControlName="visitorTotal" placeholder="Visitor total">
  </mat-form-field>
  
  <mat-form-field class="form-field">
    <input matInput formControlName="visitorOut" placeholder="Visitor out">
  </mat-form-field>
  
  <button mat-stroked-button color="primary" type="reset" (click)="resetForm(formShort)">Reset</button>
  <button mat-raised-button color="primary" type="submit">Predict</button>
  <span *ngIf="prediction$ | async as prediction">{{ prediction | json }}</span>
</form> -->
<!-- <form [formGroup]="formDetailed" (ngSubmit)="calcPrediction()" class="predict__form">
  <div formGroupName="homeTotalMatches">
    <label>Home total - Wins</label>
    <input formControlName="wins">
    <label>Home total - Equals</label>
    <input formControlName="equals">
    <label>Home total - Loses</label>
    <input formControlName="loses">
  </div>
  <div formGroupName="homeInMatches">
    <label>Home in - Wins</label>
    <input formControlName="wins">
    <label>Home in - Equals</label>
    <input formControlName="equals">
    <label>Home in - Loses</label>
    <input formControlName="loses">
  </div>
  <div formGroupName="visitorTotalMatches">
    <label>Visitor total - Wins</label>
    <input formControlName="wins">
    <label>Visitor total - Equals</label>
    <input formControlName="equals">
    <label>Visitor total - Loses</label>
    <input formControlName="loses">
  </div>
  <div formGroupName="visitorOutMatches">
    <label>Visitor out - Wins</label>
    <input formControlName="wins">
    <label>Visitor out - Equals</label>
    <input formControlName="equals">
    <label>Visitor out - Loses</label>
    <input formControlName="loses">
  </div>
  <div formGroupName="homeTotalGoals">
    <label>Home total - Shots</label>
    <input formControlName="shots">
    <label>Home total - Loses</label>
    <input formControlName="loses">
  </div>
  <div formGroupName="homeInGoals">
    <label>Home in - Shots</label>
    <input formControlName="shots">
    <label>Home in - Loses</label>
    <input formControlName="loses">
  </div>
  <div formGroupName="visitorTotalGoals">
    <label>Visitor total - Shots</label>
    <input formControlName="shots">
    <label>Visitor total - Loses</label>
    <input formControlName="loses">
  </div>
  <div formGroupName="visitorOutGoals">
    <label>Visitor out- Shots</label>
    <input formControlName="shots">
    <label>Visitor out - Loses</label>
    <input formControlName="loses">
  </div>
  <button type="submit">Predict</button>
  <span *ngIf="prediction$ | async as prediction">{{ prediction | json }}</span>
</form> -->
